<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base}">
<section layout:fragment="content">

    <h2 th:text="${title}" class="subtitle">Subtitle</h2>
    <div class="table-container">
        <table class="table">
            <thead>
            <tr>
                <th>Date and time start</th>
                <th>Time end</th>
                <th>Doctors</th>
                <th>Nurses</th>
                <th>Room No</th>
                <th>Appointment type</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="appointment : ${appointments}">
                <td th:text="${#temporals.format(appointment.startDate, 'dd.MM.yyyy HH:mm')}">23.06.2021 15:30</td>
                <td th:text="${#temporals.format(appointment.endDate, 'HH:mm')}">23.06.2021 16:30</td>
                <td><p th:each="doctor : ${appointment.doctors}"><span th:text="${doctor.firstName}" th:remove="tag">Severus</span>
                    <span th:text="${doctor.lastName}" th:remove="tag">Snape</span></p></td>
                <td><p th:each="nurse : ${appointment.nurses}"><span th:text="${nurse.firstName}" th:remove="tag">Severus</span>
                    <span th:text="${nurse.lastName}" th:remove="tag">Snape</span></p></td>
                <td th:text="${appointment.room.roomNo}">302</td>
                <td class="appointment-type" th:text="${appointment.examination != null ?
                appointment.examination.examinationType.title + ' examination' :
                (appointment.procedure != null ? appointment.procedure.procedureType.title + ' procedure' : 'ANY')}">Examination
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <a href="/appointments/editing">Editing</a>

</section>
</html>